(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[320],{6653:function(e,n,t){"use strict";t.d(n,{L:function(){return o},c:function(){return l}});var r=t(5474),a=t(666);function o(){return localStorage.getItem(a.px)}async function s(){return await (0,r.gw)(2e3),{code:a.mI,message:"Mock",data:{nickName:"Mock",token:"Mock"}}}async function l(e,n){if(a.M7)return await s();let t=await fetch("".concat(a.FH,"/member/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,password:n})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}},6831:function(e,n,t){"use strict";var r=t(9268),a=t(6006),o=t(3368),s=t(1576),l=t.n(s),i=t(8683),c=t.n(i),u=t(9153);let d=(0,a.memo)(e=>{let{className:n,children:t,type:a,loading:s,disabled:i,onClick:d,looks:m,icon:f,...p}=e;return(0,r.jsxs)("button",{...p,className:"close"===f?c()("h-8 w-8 bg-close bg-4 bg-center bg-no-repeat opacity-50 hover:opacity-75",n):c()("rounded px-3 py-1.5",{[l().primary]:!m||m===u.L.primary,"bg-gray-100":m===u.L.secondary,[l().danger]:m===u.L.danger,[l().dark]:m===u.L.dark,"bg-green-700 text-white":m===u.L.green},n),disabled:s||i,onClick:d,type:a,children:[s&&(0,r.jsx)(o.Z,{size:o.v.small})," ",t]})});d.displayName="Button",n.Z=d},1263:function(e,n,t){"use strict";var r=t(9268),a=t(6006),o=t(8683),s=t.n(o);let l=(0,a.memo)((0,a.forwardRef)((e,n)=>{let{className:t,type:a,value:o,onChange:l,onKeyDown:i,disabled:c,placeholder:u}=e;return(0,r.jsx)("input",{className:s()("rounded border border-solid border-gray-300 p-1",t),type:a,value:o,onChange:e=>{let n=e.target.value;null==l||l(n)},onKeyDown:i,disabled:c,placeholder:u,ref:n})}));n.Z=l},7007:function(e,n,t){"use strict";var r=t(9268),a=t(6006),o=t(8431),s=t(4209),l=t.n(s),i=t(6831),c=t(8683),u=t.n(c),d=t(6292);function m(e){let{title:n,children:t,footer:a,width:o,isCloseButtonShow:s,maskClosable:c,onClose:d}=e;return(0,r.jsx)("div",{className:u()(l().backgroundMask,"z-[1500]"),onClick:c?d:void 0,children:(0,r.jsxs)("div",{className:"my-12 divide-y divide-solid rounded bg-white",style:{width:o},onClick:e=>{e.stopPropagation()},children:[n&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 text-xl font-medium",children:[n,s&&(0,r.jsx)(i.Z,{className:"p-2",icon:"close",onClick:d})]}),t&&(0,r.jsx)("div",{className:"p-4",children:t}),a&&(0,r.jsx)("div",{className:"p-4",children:a})]})})}let f=(0,a.memo)(e=>{let{title:n,children:t,footer:a,open:s=!1,width:l,isCloseButtonShow:i,maskClosable:c=!0,onClose:u}=e;return s&&(0,o.createPortal)((0,r.jsx)(m,{title:n,footer:a,width:l,isCloseButtonShow:i,maskClosable:c,onClose:u,children:t}),document.body)});f.displayName="Modal";let p=(0,a.memo)(e=>{let{content:n,onOk:t,okButtonProps:o,onCancel:s,cancelButtonProps:c}=e,[u,d]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),h=(0,a.useCallback)(async()=>{d(!0),await (null==t?void 0:t()),d(!1)},[t]),b=(0,a.useCallback)(async()=>{p(!0),await (null==s?void 0:s()),p(!1)},[s]);return(0,r.jsxs)(m,{children:[n,(0,r.jsxs)("div",{className:l().buttonGroup,children:[(0,r.jsx)(i.Z,{...o,loading:u,disabled:f,onClick:h,children:"確定"}),(0,r.jsx)(i.Z,{...c,loading:f,disabled:u,onClick:b,children:"取消"})]})]})});p.displayName="ConfirmModal",f.confirm=e=>{let{content:n,onOk:t,okButtonProps:a,onCancel:o,cancelButtonProps:s}=e,l=(0,d.E)("confirmModal"),{render:i,removeModal:c}=(0,d.k)(l);i((0,r.jsx)(p,{content:n,onOk:async()=>{try{await (null==t?void 0:t()),c()}catch(e){}},okButtonProps:a,onCancel:async()=>{await (null==o?void 0:o()),c()},cancelButtonProps:s}))},n.Z=f},3368:function(e,n,t){"use strict";t.d(n,{v:function(){return a}});var r,a,o=t(9268),s=t(6006),l=t(8683),i=t.n(l);(r=a||(a={})).small="small",r.medium="medium";let c=(0,s.memo)(e=>{let{spinning:n=!0,size:t=a.medium,expand:r=!1,children:s}=e;return(0,o.jsxs)("div",{className:i()("relative inline-block",{"h-full w-full":r}),children:[s,n&&(0,o.jsx)("div",{className:i()("inset-0 flex items-center justify-center",{"absolute bg-white opacity-70":s,"static bg-transparent":!s}),children:(0,o.jsx)("div",{className:i()("animate-spin rounded-full border-solid border-slate-100 border-t-blue-500",{"h-2.5 w-2.5 border-2":t===a.small,"h-10 w-10 border-4":t===a.medium})})})]})});c.displayName="Spin",n.Z=c},4415:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(9268),a=t(6006),o=t(6462),s=t(3368),l=t(8683),i=t.n(l),c=t(6831),u=t(9153);let d=(0,a.memo)(e=>{let{className:n,totalPage:t=0,page:a=0,pageSize:o=20,onChange:s}=e;return(0,r.jsxs)("div",{className:i()("flex gap-2",n),children:[(0,r.jsx)(c.Z,{onClick:()=>{a>1&&(null==s||s(a-1,o))},children:"<"}),Array.from({length:t}).map((e,n)=>(0,r.jsx)(c.Z,{looks:n+1===a?u.L.primary:u.L.secondary,onClick:()=>{n+1!==a&&(null==s||s(n+1,o))},children:n+1},n)),(0,r.jsx)(c.Z,{onClick:()=>{a<t&&(null==s||s(a+1,o))},children:">"})]})});d.displayName="Pagination";let m=(0,a.memo)(e=>{let{className:n,rowKeyName:t="id",columns:l=[],dataSource:c=[],loading:u=!1,pagination:m}=e,f=(0,a.useMemo)(()=>l.map(e=>[e.dataIndex||(0,o.Z)(),e]),[l]),p=(0,a.useMemo)(()=>(0,r.jsx)("tr",{children:f.map(e=>{let[n,{title:t}]=e;return(0,r.jsx)("th",{className:"border-b border-solid border-gray-800 p-2 text-start",children:t},n)})}),[f]),h=(0,a.useMemo)(()=>c.map(e=>(0,r.jsx)("tr",{className:"even:bg-black/5",children:f.map(n=>{let[t,{dataIndex:a,render:o}]=n;return(0,r.jsx)("td",{className:"border-b border-solid border-gray-300 p-2",children:o?o(a&&e[a],e):a&&e[a]},t)})},e[t])),[f,c,t]);return(0,r.jsx)(s.Z,{spinning:u,expand:!0,children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:i()("overflow-auto",n),children:(0,r.jsx)("table",{className:"w-full border-collapse",children:(0,r.jsxs)("tbody",{children:[p,h]})})}),m&&(0,r.jsx)(d,{...m,className:"max-w-full self-end overflow-auto"})]})})});m.displayName="Table";var f=m},158:function(e,n,t){"use strict";var r=t(9268),a=t(6006),o=t(6292),s=t(8683),l=t.n(s);let i=(0,a.memo)(e=>{let{children:n,icon:t,removeModal:o}=e,[s,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{i(!1),e=setTimeout(()=>{o()},300)},3e3);return()=>{clearTimeout(e)}},[o]),(0,r.jsxs)("div",{className:l()("my-2 rounded bg-white px-4 py-2 shadow",{"animate-fade-in":s,"animate-fade-out":!s}),children:[t," ",n]})});function c(e,n){let t=(0,o.E)("toastContainer","fixed left-1/2 top-0 z-[2000] -translate-x-1/2 transform"),{render:a,removeModal:s}=(0,o.k)(t);a((0,r.jsx)(i,{icon:n,removeModal:s,children:e}))}i.displayName="Toast",n.Z={success:e=>{c(e,"success:")},error:e=>{c(e,"error:")}}},6292:function(e,n,t){"use strict";t.d(n,{E:function(){return a},k:function(){return o}});var r=t(3194);function a(e,n){let t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,n&&(t.className=n),document.body.appendChild(t)),t}function o(e){let n=document.createElement("div");e.appendChild(n);let t=(0,r.createRoot)(n);return{render:e=>{t.render(e)},removeModal:()=>{t.unmount(),null==e||e.removeChild(n)}}}},1904:function(e,n,t){"use strict";t.d(n,{Q:function(){return o}});var r=t(6006),a=t(6462);function o(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{manual:!0},t=(0,r.useRef)(n.manual),[o,s]=(0,r.useState)({loading:!1,data:void 0}),l=(0,r.useRef)(),i=(0,r.useRef)(!1),c=(0,r.useRef)(),u=(0,r.useCallback)(async function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];let o=(0,a.Z)();l.current=o,i.current=!0,c.current=t,s(e=>{let{data:n}=e;return{loading:!0,data:n}});let u=await e(...t);if(o!==l.current)throw Error("canceled");return s({loading:!1,data:u}),u},[e]),d=(0,r.useRef)(u),m=(0,r.useCallback)(async()=>{if(i.current)return await u(...c.current);throw Error("Run should be called first")},[u]),f=(0,r.useCallback)(()=>{let e=(0,a.Z)();l.current=e,s({loading:!1,data:void 0})},[]);return(0,r.useEffect)(()=>{t.current||d.current(...[])},[]),(0,r.useMemo)(()=>({run:u,refresh:m,reset:f,...o}),[u,m,f,o])}},2624:function(e,n,t){"use strict";var r,a;t.d(n,{L:function(){return r}}),(a=r||(r={})).none="none",a.console="console",a.message="message"},9153:function(e,n,t){"use strict";var r,a;t.d(n,{L:function(){return r}}),(a=r||(r={})).primary="primary",a.secondary="secondary",a.dark="dark",a.danger="danger",a.green="green"},666:function(e,n,t){"use strict";t.d(n,{FH:function(){return r},M7:function(){return o},mI:function(){return s},px:function(){return a}});let r="https://historical-site-backend-18d1df54380f.herokuapp.com",a="token",o=!1,s="S001"},5474:function(e,n,t){"use strict";t.d(n,{cM:function(){return l},gw:function(){return s},o2:function(){return u},rn:function(){return i},sG:function(){return c}});var r=t(2624),a=t(5326),o=t.n(a);let s=async e=>{await new Promise(n=>setTimeout(n,e))},l=(e,n)=>{switch(n){case r.L.none:break;case r.L.console:case r.L.message:console.log(e)}};function i(e){return e?o()(e).format("YYYY-MM-DD HH:mm:ss"):"--"}let c=(async()=>{}).constructor;function u(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[,n]=e;return void 0!==n}))}},1576:function(e){e.exports={primary:"Button_primary__Nhi6i",danger:"Button_danger__214td",dark:"Button_dark__Djc0e"}},4209:function(e){e.exports={backgroundMask:"Modal_backgroundMask__9WqVi",buttonGroup:"Modal_buttonGroup__PS_fc"}}}]);